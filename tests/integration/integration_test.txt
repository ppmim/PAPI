THINGS TO DO
============

- series of focus --> two options ---> a) ala o2000 but with Filter and Readout-Mode
                                       b) SExtractor (acuraccy?)
  Required to CA for some data set of a series of focus 

- 



DOUBTS
======

- linearity test : how to compute the coefficients ? do you suggest some algorithm ?
- derive CCD equation : what does 'derive CCD equation' mean ?
- series of focus: how many star should be used to stats ?
- series of focus --> two options ---> a) ala o2000 but with Filter and Readout-Mode
                                       b) SExtractor (acuraccy?)

- obs.mode simple: how to reduce ?

- 




INTEGRATION TESTS
=================

================================================================================
T1) Linearity test     --- TBD
OBJ: 
- take a series of exposures with increasing exposure time for linearity test

PRE-REQUIREMENTS:


OT ACTION:

 - Define corresponding OB's and run

CL ACTION:

 >>panic/calser dark = 1,120 1 20 lin

QL ACTION:
 
 1- detect EOS (End of Sequence) and run analysis procedure
 2- evaluate the linerity (CCD equation, gain map)

EXPECTED RESULT(s):

- 20 images with linear increasing TEXP and OBJECT="dark"

OBTAINED RESULT:


PL DEMO:
  - TBD
  
REMARKS:

PASS/FAIL:


================================================================================
T2) dark series


OBJ: 
  - take a series of darks 

PRE-REQUIREMENTS:

OT ACTION:

 - Define corresponding OB's and run

CL ACTION: OK

  >>panic/calser dark = 1,10 1 5 lin

QL ACTION: TBC
  - create master dark Model ( = median of many darks, normalized to 1sec )
   

EXPECTED RESULT(s): TBC

   - 5 images with increasing TEXP (1.0, 3.2, 5.5, 7.8, 10.0)
   and OBJECT="dark"
 
OBTAINED RESULT:


PL DEMO:
  - TBD
  
REMARKS:
   - macro should take into account filter and readout-mode setting
   - macro should set proper kewords for the QL througt ~/tmp/fitsheader_panic.txt

PASS/FAIL:


================================================================================
T2) dark series
OBJ: 
  - take a series of darks 

OT ACTION: TBD

CL ACTION: OK

  >> panic/calser dark2x2s = 2 2 5 zero i

QL ACTION: TBC
  - create master dark ( = median of many darks, normalized to 1sec )
   

RESULT: TBC

   - 5 images with increasing TEXP=5.495336 ???  and OBJECT="dark2x2s"
   
REMARKS:
   - macro should take into account filter and readout-mode setting
   - macro should set proper kewords for the QL througt ~/tmp/fitsheader_panic.txt   
================================================================================
T3) flat series (anykind, dome or sky ?)
OBJ: 
  - take a series of flats with increasint TEXP

OT ACTION:

CL ACTION:

  >> panic/calser "flat filter1" = 2,10 3 ? log i

QL ACTION: TBD
  - create master flat ( = median of many flats, normalized to 1sec)
   

RESULT:  TBC
  - 5 images with increasing TEXP (2x3, 3.7x3 4.8x3 6.8x3 10x3 secs) and
  OBJECT="flat filter1"

REMARKS:
   - macro should take into account filter and readout-mode setting
   - macro should set proper kewords for the QL througt ~/tmp/fitsheader_panic.txt

================================================================================
T4) flat series (anykind, dome or sky ?)
OBJ: 
  - take a series of flats with increasint TEXP


GEIRS CFG:
 
  - readoutmode=o2dcr
  - wheel-macro = filter1
  
OT ACTION:

CL ACTION:

  >> panic/calser "flat filter1" = 2,10 3 ? log

QL ACTION: TBD
  - create master flat ( = median of many flats, normalized to 1sec)
   

RESULT: TBC
  - 15 images with increasing TEXP (2, 3.7 4.8 6.8x3 10 secs)x3 and
  OBJECT="flat filter1"

REMARKS:
   - macro should take into account filter and readout-mode setting
   - macro should set proper kewords for the QL througt ~/tmp/fitsheader_panic.txt

================================================================================
T5) DOME flat series
OBJ: 
  - take a series of dome flats with fixed TEXP

GEIRS CFG:
 
  - readoutmode=o2dcr
  - wheel-macro = filter1
  
OT ACTION:

CL ACTION:

  >> panic/domeflats "dome filter 1" = 5,1 3

QL ACTION:
  - create master flat (= median of many flats, normalized to 1sec)
   

RESULT: TBC
  - 2 images (lamp on, lamp off) with TEXP=3sec
  OBJECT="dome filter1 lamp on"/"dome filter1 lamp off"

REMARKS:
   - macro should take into account filter and readout-mode setting
   - macro should set proper kewords for the QL througt ~/tmp/fitsheader_panic.txt
   
================================================================================
T6) DOME flat series
OBJ: 
  - take a series of dome flats with fixed TEXP

GEIRS CFG:
 
  - readoutmode=o2dcr
  - wheel-macro = filter1
  
OT ACTION:

CL ACTION:

  >> panic/domeflats "dome filter 1" = 5,1 3 5

QL ACTION:
  - create master flat (= median of many flats, normalized to 1sec)
   

RESULT: TBC - ERROR
  - 2 images (lamp on, lamp off) with TEXP=12sec, and NCOADD=4, but expected NCOADD=5 !!!
  OBJECT="dome filter1 lamp on"/"dome filter1 lamp off"
  Maybe the problem is due to GEIRS simulation mode and/or the current readout-mode

REMARKS:
   - macro should take into account filter and readout-mode setting
   - macro should set proper kewords for the QL througt ~/tmp/fitsheader_panic.txt   
   
================================================================================
T6) DOME flat series
OBJ: 
  - take a series of dome flats with fixed TEXP

GEIRS CFG:
 
  - readoutmode=o2dcr
  - wheel-macro = filter1
  
OT ACTION:

CL ACTION:

  >> panic/domeflats "dome filter 1" = 5,1 3 5

QL ACTION:
  - create master flat (= median of many flats, normalized to 1sec)
   

RESULT: TBC - ERROR
  - 2 images (lamp on, lamp off) with TEXP=12sec, and NCOADD=4, but expected NCOADD=5 !!!
  OBJECT="dome filter1 lamp on"/"dome filter1 lamp off"
  Maybe the problem is due to GEIRS simulation mode and/or the current readout-mode

REMARKS:
   - macro should take into account filter and readout-mode setting
   - macro should set proper kewords for the QL througt ~/tmp/fitsheader_panic.txt
   
================================================================================
T7) SKY flat series fixed LEVEL
OBJ: 
  - take a series of sky flats with fixed exp. LEVEL ( 20000cts =default value)

GEIRS CFG:
  - readoutmode=o2dcr
  - wheel-macro = filter1
  
OT ACTION:

CL ACTION:

  >> panic/skyflats "dusk filter 1"

QL ACTION: TBD
  - create master flat (= median of many flats, normalized to 1sec)
   

RESULT: TBC - ERROR
  - 5 images  with TEXP=2sec (computed into the macro), and NCOADD=2
  OBJECT="dusk filter1"
  Maybe the problem is due to GEIRS simulation mode and/or the current readout-mode

REMARKS:
   - macro need to be "craked" when computing exp_time :
    
        /Oq(exp_time = max_lev/(act_lev*min_time + 10000))
    
    adding 10000 to avoid zero division !!! when commisioning it need to be removed !!
   
   - macro should take into account filter and readout-mode setting
   - macro should set proper kewords for the QL througt ~/tmp/fitsheader_panic.txt

================================================================================
T8) SKY flat series fixed LEVEL
OBJ: 
  - take a series of sky flats with fixed exp. LEVEL ( 20000cts =default value)

GEIRS CFG:
  - readoutmode=o2dcr
  - wheel-macro = filter1
  
OT ACTION:

CL ACTION:

  >> panic/skyflats "dusk filter 1" coadds=3 number=2 offset=60,60

QL ACTION: TBD
  - create master flat (= median of many flats, normalized to 1sec)
   

RESULT: TBC - ERROR
  - 2 images  with TEXP=6sec (computed into the macro), and NCOADD=3
  OBJECT="dusk filter1"
  Maybe the problem is due to GEIRS simulation mode and/or the current readout-mode

REMARKS:
   - macro need to be "craked" when computing exp_time :
    
        /Oq(exp_time = max_lev/(act_lev*min_time + 10000))
    
    adding 10000 to avoid zero division !!! when commisioning it need to be removed !!
   
   - macro should take into account filter and readout-mode setting
   - macro should set proper kewords for the QL througt ~/tmp/fitsheader_panic.txt
   
================================================================================
T09) Simple observation without moving the telescope (dither off)
OBJ: 
  - take a exposition of the integration times in secs [tot,integ,single]  with no dither pattern 

GEIRS CFG:
  - readoutmode=lir
  - wheel-macro = filter1
  
OT ACTION:

CL ACTION:

  >> panic/simple 100,50,1 "myobj" filter2 5

QL ACTION: TBD
  - recognize files
   

RESULT: TBC - ERROR
  - 2 images  with TEXP=5.49sec , and NCOADD=2
  OBJECT="myobj"
  Maybe the problem is due to GEIRS simulation mode and/or the current readout-mode

REMARKS:
   
   - macro should set proper kewords for the QL througt ~/tmp/fitsheader_panic.txt
   
================================================================================
T10) Simple observation without moving the telescope (dither off)
OBJ: 
  - take a exposition of the integration times in secs [tot,integ,single]  with no dither pattern 

GEIRS CFG:
  - readoutmode=o2dcr
  - wheel-macro = filter1
  
OT ACTION:

CL ACTION:

  >> panic/simple 100,50,1 "myobj" filter1 5

QL ACTION: TBD
  - recognize files
   

RESULT: TBC - ERROR
  - 2 images  with TEXP=5.49sec ,ITIME=1.374167 and NCOADD=4
  OBJECT="myobj"
  Maybe the problem is due to GEIRS simulation mode and/or the current readout-mode

REMARKS:
   
   - macro should set proper kewords for the QL througt ~/tmp/fitsheader_panic.txt
   
================================================================================
T11) Simple observation without moving the telescope (dither on)
OBJ: 
  - take a exposition of the integration times in secs [tot,integ,single]  with a dither pattern 

GEIRS CFG:
  - readoutmode=o2dcr
  - wheel-macro = filter1
  
OT ACTION:

CL ACTION:

  >> panic/simple 100,50,1 "myobj" filter1 5

QL ACTION: TBD
  - recognize files
   

RESULT: TBC - ERROR
  - 2 images  with TEXP=5.49sec ,ITIME=1.374167 and NCOADD=4
  OBJECT="myobj"
  Maybe the problem is due to GEIRS simulation mode and/or the current readout-mode

REMARKS:
   
   - macro should set proper kewords for the QL througt ~/tmp/fitsheader_panic.txt
   
   
   
   
      

================================================================================
SOFTWARE DEMO 
================================================================================

D01) Linearity test     --- TBD

D02) dark serie

D02) Simple observation without moving the telescope (dither off)
OBJ: 
  - take a exposition of the integration times in secs [tot,integ,single]  with no dither pattern 

GEIRS CFG:
  - readoutmode=o2dcr
  - wheel-macro = filter1
  
OT ACTION:

CL ACTION:

  >> panic/simple 100,50,1 "myobj" filter1 5

QL ACTION: TBD
  - recognize files
   

RESULT: TBC - ERROR
  - 2 images  with TEXP=5.49sec ,ITIME=1.374167 and NCOADD=4
  OBJECT="myobj"
  Maybe the problem is due to GEIRS simulation mode and/or the current readout-mode

REMARKS:
   
   - macro should set proper kewords for the QL througt ~/tmp/fitsheader_panic.txt

================================================================================
SOFTWARE DOUBTS / PROBLEMS
================================================================================

PREPARACION
 
1-udit43: desactivamos el firewall y hacemos como root un 'mount 161.111.164.228:/home/panic/DATA/ /mnt/GEIRS_DATA/'

2-portatil: con el Yast desactivamos firewall y desde el NFSApp creamos la entrada correspondiente en el /etc/export



OT - tests 7-March-2011
=======================
T02) TBI not availabe in OT incremental TEXP

T03) serie de dark con TEXP fijos 

2sX3; falta que ponga el filtro adecuado (TBI)


ERROR: el OT al borrar los datos, no los borra de la BD !!! o al menos eso parece
- Mirar si se borra la currentSequenceList cuando se borra algo del directorio de data y de la BD, pues si
aún no se ha detectado el EOS, la currentSeqList sigue "activa".

T04) serie de dark con TEXP fijos 

2sX8; falta que ponga el filtro adecuado (TBI)
3sX6; ""
5sX3; ""

OT detecta los EOS y crea los correspondientes master dark; TBD: seria bueno que el OT mostrara la stats del master

T11) dither sequence

PQL detecta los EOS, pero da un error al intentar reducir, pues no puede hacerlo
con imágenes "falsas"


TODO:
- fichero filtros
- averiguar por que no se puede reducir con imagenes "falsas"
- modificar MIDAS scripts para tener keys correctas (like OT)
- ver por que da el error de TIMER[0] etc ... cuando intenta reducir el PQL, saca una ventana de error !!!






   