<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PANIC-PIPELINE: reduce::reducemod::ReductionBlock Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.0 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<b>reduce</b>::<b>reducemod</b>::<a class="el" href="classreduce_1_1reducemod_1_1ReductionBlock.html">ReductionBlock</a></div>
<h1>reduce::reducemod::ReductionBlock Class Reference</h1><!-- doxytag: class="reduce::reducemod::ReductionBlock" --><a href="classreduce_1_1reducemod_1_1ReductionBlock-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreduce_1_1reducemod_1_1ReductionBlock.html#6f64e1fd3151d34a57f1c4138c8a7c9d">__init__</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="710292c17b35fc3b2976eee612b3766a"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::getList" ref="710292c17b35fc3b2976eee612b3766a" args="" -->
def&nbsp;</td><td class="memItemRight" valign="bottom"><b>getList</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4e829b0ed694c57ea4e2d15ef49f8380"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::getProcList" ref="4e829b0ed694c57ea4e2d15ef49f8380" args="" -->
def&nbsp;</td><td class="memItemRight" valign="bottom"><b>getProcList</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="031484ac36e826be69646f61fcdfc5ce"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::setNewList" ref="031484ac36e826be69646f61fcdfc5ce" args="" -->
def&nbsp;</td><td class="memItemRight" valign="bottom"><b>setNewList</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreduce_1_1reducemod_1_1ReductionBlock.html#47ee720852bff59774e2afa327763d70">checkFilter</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreduce_1_1reducemod_1_1ReductionBlock.html#2c4edab90430d24a93f7e7fb9059019a">checkExpTime</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreduce_1_1reducemod_1_1ReductionBlock.html#77b103bc9634e74234fe5d41a07f00dd">checkType</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreduce_1_1reducemod_1_1ReductionBlock.html#91f269f292d6724b0f585cf7ed4026cb">createSuperFlat</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreduce_1_1reducemod_1_1ReductionBlock.html#e16b6cd5402975065b0b87b04a12786d">computeSkyBkg</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreduce_1_1reducemod_1_1ReductionBlock.html#4223863cbab649689bd06bb37a41cdcb">I_createSuperFlat</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreduce_1_1reducemod_1_1ReductionBlock.html#ea81d03bad84ab72df77142ee66977ba">MI_skyFilter</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreduce_1_1reducemod_1_1ReductionBlock.html#0a6384ee4efdba8ab2f2bbfc32395b8d">M_createSuperFlat</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreduce_1_1reducemod_1_1ReductionBlock.html#6bdf1a09ece607fdf29bff30358fcb7c">subtractDark</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreduce_1_1reducemod_1_1ReductionBlock.html#91fb83e2fff50de11038efeab1e0a366">M_subtracDark</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreduce_1_1reducemod_1_1ReductionBlock.html#7733e44b77109db7f06baae1838c04c7">M_appFlatField</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreduce_1_1reducemod_1_1ReductionBlock.html#a02cee4de81a204bbb46612453874abe">computeSkyBackground_i</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreduce_1_1reducemod_1_1ReductionBlock.html#8e631c3c833a8bc388684a971275185b">simpleReduce</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreduce_1_1reducemod_1_1ReductionBlock.html#5f93b067cc7f57f00dcf91a5059b9c26">createObjMasks</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreduce_1_1reducemod_1_1ReductionBlock.html#3036aebfd2b6ee94aa035e8005e2e7e8">applyFlat</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreduce_1_1reducemod_1_1ReductionBlock.html#11a1aaa23780a9017f9739d331d4e8ff">combineFrames</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreduce_1_1reducemod_1_1ReductionBlock.html#68262e703addcaa662878441bd9d4f50">createBadPixelMask</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreduce_1_1reducemod_1_1ReductionBlock.html#021bede3a6e946e92589e213de0a9cf7">applyBadPixelMask</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreduce_1_1reducemod_1_1ReductionBlock.html#a12dc11d8ca1f5e7142ff512d09bada2">mathOp</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreduce_1_1reducemod_1_1ReductionBlock.html#863f04bf4f5f5bc3e972f8fde15501df">SNAP_like_reduction</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreduce_1_1reducemod_1_1ReductionBlock.html#539f6a93f5d51874af9c2a822d6c2dae">sortByDateObs</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreduce_1_1reducemod_1_1ReductionBlock.html#4e1f5ca524fe7ce52264d1f1424dd121">compDateObs</a></td></tr>

<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e55eba7175a3628b7de1aa352dbb44bb"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::m_file_list" ref="e55eba7175a3628b7de1aa352dbb44bb" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_file_list</b></td></tr>

<tr><td colspan="2"><br><h2>Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f20fac47a6ced7cbd5632b70076eb305"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::m_file_list" ref="f20fac47a6ced7cbd5632b70076eb305" args="" -->
list&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_file_list</b> = []</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1d8ed6e7bb8884f083e20445eaab62cf"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::m_file_list_p" ref="1d8ed6e7bb8884f083e20445eaab62cf" args="" -->
list&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_file_list_p</b> = []</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ed0da4ea5b5255885f42c2127d66464a"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::m_last_output_file" ref="ed0da4ea5b5255885f42c2127d66464a" args="" -->
string&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_last_output_file</b> = ''</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b93a4404ad3ce840610812ec936d8a67"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::m_cl_file_list" ref="b93a4404ad3ce840610812ec936d8a67" args="" -->
list&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_cl_file_list</b> = []</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2b137de06cfc3491b9b33564c492161c"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::m_history" ref="2b137de06cfc3491b9b33564c492161c" args="" -->
list&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_history</b> = []</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="197916b78e796237f05a649e742be169"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::m_output_dir" ref="197916b78e796237f05a649e742be169" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_output_dir</b> = None</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="45833fe798e694b12b5bd21e4167b81f"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::m_images_in" ref="45833fe798e694b12b5bd21e4167b81f" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_images_in</b> = None</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="24117f50da2dc3805311927199f38bfc"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::m_chipcode" ref="24117f50da2dc3805311927199f38bfc" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_chipcode</b> = 1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="432465cc0a7462b4f8a72e08477fb9e1"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::m_chip_offsets" ref="432465cc0a7462b4f8a72e08477fb9e1" args="" -->
list&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_chip_offsets</b> = [1.0, 1.0, 1.0, 1.0]</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="814114705a81132a5a0930d7e66c80f0"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::m_filter" ref="814114705a81132a5a0930d7e66c80f0" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_filter</b> = None</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ea68eefa3733fb8a412899c67d981b82"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::m_naxis1" ref="ea68eefa3733fb8a412899c67d981b82" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_naxis1</b> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f94fa3364600476fe0463e60e9da879f"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::m_naxis2" ref="f94fa3364600476fe0463e60e9da879f" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_naxis2</b> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c592dfa09d60506ec9b6d4afbb9fac77"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::m_memory" ref="c592dfa09d60506ec9b6d4afbb9fac77" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_memory</b> = False</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<div class="fragment"><pre class="fragment">
\brief A class that contain a set of files with the same type, filter, mode, texp,... to reduce (science or calib)
</pre></div> 
<p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="6f64e1fd3151d34a57f1c4138c8a7c9d"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::__init__" ref="6f64e1fd3151d34a57f1c4138c8a7c9d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def reduce::reducemod::ReductionBlock::__init__           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>file_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>output_dir</em> = <code>&quot;/tmp/&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>memory</em> = <code>False</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">\param file_list : a python list of pathnames
   \param output_dir :
   \param memory : if True, the images from the file list will be stored into memory 
</pre></div> 
</div>
</div><p>
<a class="anchor" name="47ee720852bff59774e2afa327763d70"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::checkFilter" ref="47ee720852bff59774e2afa327763d70" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def reduce::reducemod::ReductionBlock::checkFilter           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">Return true is all files in file have the same filter type, false otherwise

\return True or False
</pre></div> 
</div>
</div><p>
<a class="anchor" name="2c4edab90430d24a93f7e7fb9059019a"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::checkExpTime" ref="2c4edab90430d24a93f7e7fb9059019a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def reduce::reducemod::ReductionBlock::checkExpTime           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">Return true is all files in file have the same Exposition Time, false otherwise

\return True or False
</pre></div> 
</div>
</div><p>
<a class="anchor" name="77b103bc9634e74234fe5d41a07f00dd"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::checkType" ref="77b103bc9634e74234fe5d41a07f00dd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def reduce::reducemod::ReductionBlock::checkType           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>type_to_check</em> = <code>None</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">
Return true is all files in file have the same type(science, dark, flat, ...), false otherwise

\param type_to_check (\c string) type to check to
\return True or False
</pre></div> 
</div>
</div><p>
<a class="anchor" name="91f269f292d6724b0f585cf7ed4026cb"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::createSuperFlat" ref="91f269f292d6724b0f585cf7ed4026cb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def reduce::reducemod::ReductionBlock::createSuperFlat           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>master_dark</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>output_file</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">
Create a master super flat file from the reduction block files (science type)

\param outputfile (\c string) Name of the outputfile name for the master to be created
\return Return True master file was created, False otherwise
</pre></div> 
</div>
</div><p>
<a class="anchor" name="e16b6cd5402975065b0b87b04a12786d"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::computeSkyBkg" ref="e16b6cd5402975065b0b87b04a12786d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def reduce::reducemod::ReductionBlock::computeSkyBkg           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>image_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>image_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>output_type</em> = <code>'-BACKGROUND'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>params</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>sconfig</em> = <code>None</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">
\brief Set SExtractor parameters and configuration and run.

\param image_in: Detection (and measurement) image
\param image_out:  Measurement image
\param output_type: (optional) background |-background | objects | -objects (see SExtractor doc)
\param params: (optional) extra output parameters (Parameters object)
\param config: (optional) configuration options (Config object)

NOTE: If either params or config is not specified, the defaults will be
used
</pre></div> 
</div>
</div><p>
<a class="anchor" name="4223863cbab649689bd06bb37a41cdcb"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::I_createSuperFlat" ref="4223863cbab649689bd06bb37a41cdcb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def reduce::reducemod::ReductionBlock::I_createSuperFlat           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>images_in</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>output_file</em> = <code>'/tmp/gain.fits'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>bad_pixel_mask</em> = <code>None</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">
    Create a super flat and gain map using the dithered images. (IRAF)
         
    This function is a wrapper for mksuperflat.py that uses imcombine(IRAF) and gainmap(IRDR)              

    VERSION
1.0, 20090909 by jmiguel@iaa.es

</pre></div> 
</div>
</div><p>
<a class="anchor" name="ea81d03bad84ab72df77142ee66977ba"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::MI_skyFilter" ref="ea81d03bad84ab72df77142ee66977ba" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def reduce::reducemod::ReductionBlock::MI_skyFilter           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>images_in</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>source</em> = <code>'mem'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>gainfile</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>mask</em> = <code>'nomask'</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">
    For each input image, a sky frame is computed by combining a certain number of  the closest images, 
    then this sky frame is subtracted by the image and the result is divided by the master flat; 
         
    This function is a wrapper for skyfilter.c (IRDR)              

    VERSION
1.0, 20090909 by jmiguel@iaa.es

    TODO: extended objects !!!!
</pre></div> 
</div>
</div><p>
<a class="anchor" name="0a6384ee4efdba8ab2f2bbfc32395b8d"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::M_createSuperFlat" ref="0a6384ee4efdba8ab2f2bbfc32395b8d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def reduce::reducemod::ReductionBlock::M_createSuperFlat           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>images_in</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>output_file</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>mask</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>fast</em> = <code>1</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">
;
; NAME
;   M_createSuperFlat
;
; PURPOSE
;   Derive super sky flat from the image cube
;
; INPUT
;   images_in - image cube that contains the unflattened raw data.
;       The format should be nframes * nx * ny 
;       If None, then class member m_images_in is used
;
; OPTIONAL INPUT
;   mask - integer cube with dimensions identical to the data cube.
;       1 in the mask represent good data, 0 represent bad data.
;       Useful to prevent bias caused by stars in the fast mode.
;
;   output_file - if provided, a fits file with super flat is created
;
; KEYWORD
;   fast - set to 1 for fast flatfield (default).  In this way,
;       the cube will be averaged along its 0th dimenssion to
;       form a flat.  Set to 0 to use median instead of average.
;       This is slower but should be used if there is not a good
;       object mask.
;
; VERSION
;   1.0, 20090723 by jmiguel@iaa.es
;
</pre></div> 
</div>
</div><p>
<a class="anchor" name="6bdf1a09ece607fdf29bff30358fcb7c"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::subtractDark" ref="6bdf1a09ece607fdf29bff30358fcb7c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def reduce::reducemod::ReductionBlock::subtractDark           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>master_dark</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">Subtract a master dark to each file of the reduction block
</pre></div> 
</div>
</div><p>
<a class="anchor" name="91fb83e2fff50de11038efeab1e0a366"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::M_subtracDark" ref="91fb83e2fff50de11038efeab1e0a366" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def reduce::reducemod::ReductionBlock::M_subtracDark           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>master_dark</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">Subtract a master dark to each file of the reduction block
   The master dark is properly scaled before subtraction
   
   TODO: apply dark model !!!!!!!
</pre></div> 
</div>
</div><p>
<a class="anchor" name="7733e44b77109db7f06baae1838c04c7"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::M_appFlatField" ref="7733e44b77109db7f06baae1838c04c7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def reduce::reducemod::ReductionBlock::M_appFlatField           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>master_flat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>images_in</em> = <code>None</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">apply a master flat field to each file of the images_in data cube
</pre></div> 
</div>
</div><p>
<a class="anchor" name="a02cee4de81a204bbb46612453874abe"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::computeSkyBackground_i" ref="a02cee4de81a204bbb46612453874abe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def reduce::reducemod::ReductionBlock::computeSkyBackground_i           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>i_frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>n_frames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>output_type</em> = <code>'BACKGROUND'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>output_file</em> = <code>None</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">\brief Compute the sky background for the frame 'i_frame', using the nearest 2*n_frames
   \param i_frame index referenced frame to compute the related sky-background
   \param n_frames number of nearest 2*frames to use for the sky backgorund
   \param output_type: background | sub_background | objects
   \param ouput_sky sky background returned
</pre></div> 
</div>
</div><p>
<a class="anchor" name="8e631c3c833a8bc388684a971275185b"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::simpleReduce" ref="8e631c3c833a8bc388684a971275185b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def reduce::reducemod::ReductionBlock::simpleReduce           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>i_frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>n_frames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>output_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>master_flat</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>bpmask_file</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>do_astrometry</em> = <code>False</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">
    TODO
</pre></div> 
</div>
</div><p>
<a class="anchor" name="5f93b067cc7f57f00dcf91a5059b9c26"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::createObjMasks" ref="5f93b067cc7f57f00dcf91a5059b9c26" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def reduce::reducemod::ReductionBlock::createObjMasks           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">Find objects into the frames and create an object masks for each file; 
    write the mask file into the object frame.
</pre></div> 
</div>
</div><p>
<a class="anchor" name="3036aebfd2b6ee94aa035e8005e2e7e8"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::applyFlat" ref="3036aebfd2b6ee94aa035e8005e2e7e8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def reduce::reducemod::ReductionBlock::applyFlat           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>master_flat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">Divide all the frames into the Reduction Block by a given master (normalized) flat field
</pre></div> 
</div>
</div><p>
<a class="anchor" name="11a1aaa23780a9017f9739d331d4e8ff"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::combineFrames" ref="11a1aaa23780a9017f9739d331d4e8ff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def reduce::reducemod::ReductionBlock::combineFrames           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>output_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>type</em> = <code>'median'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>mask</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>params</em> = <code>None</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">Combine all the frames into the Reduction Block using 'type' operation (median, mean=average)
</pre></div> 
</div>
</div><p>
<a class="anchor" name="68262e703addcaa662878441bd9d4f50"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::createBadPixelMask" ref="68262e703addcaa662878441bd9d4f50" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def reduce::reducemod::ReductionBlock::createBadPixelMask           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>show</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>output_file</em> = <code>None</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">Make a bad pixel mask (hot and cold pixels) from a set of images ( lamp_on and lamp_off frames and darks)
</pre></div> 
</div>
</div><p>
<a class="anchor" name="021bede3a6e946e92589e213de0a9cf7"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::applyBadPixelMask" ref="021bede3a6e946e92589e213de0a9cf7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def reduce::reducemod::ReductionBlock::applyBadPixelMask           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>i_frames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>mask</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">
\brief Apply a previously created pixel mask to frame elements indexed by 'i_frames' list in the list of frames
\param i_frames list of indexes
\param mask badpixel mask file to apply
\return True or False
</pre></div> 
</div>
</div><p>
<a class="anchor" name="a12dc11d8ca1f5e7142ff512d09bada2"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::mathOp" ref="a12dc11d8ca1f5e7142ff512d09bada2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def reduce::reducemod::ReductionBlock::mathOp           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>operator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>outputFile</em> = <code>None</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">
\brief Apply a math operation to the selected files
\param operator (-, +, /)
\param outputFile (by default /tmp/op.fits)
\return True or False
</pre></div> 
</div>
</div><p>
<a class="anchor" name="863f04bf4f5f5bc3e972f8fde15501df"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::SNAP_like_reduction" ref="863f04bf4f5f5bc3e972f8fde15501df" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def reduce::reducemod::ReductionBlock::SNAP_like_reduction           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>master_flat</em> = <code>None</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">Make a reduction block procedure based on the SNAP pipeline</pre></div> 
</div>
</div><p>
<a class="anchor" name="539f6a93f5d51874af9c2a822d6c2dae"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::sortByDateObs" ref="539f6a93f5d51874af9c2a822d6c2dae" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def reduce::reducemod::ReductionBlock::sortByDateObs           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">Sort the object frame list by DATE-OBS keyword</pre></div> 
</div>
</div><p>
<a class="anchor" name="4e1f5ca524fe7ce52264d1f1424dd121"></a><!-- doxytag: member="reduce::reducemod::ReductionBlock::compDateObs" ref="4e1f5ca524fe7ce52264d1f1424dd121" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def reduce::reducemod::ReductionBlock::compDateObs           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>e1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>e2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">Compare routine used to sort the frame classified list</pre></div> 
</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>reduce/reducemod.py</ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Dec 16 16:35:18 2009 for PANIC-PIPELINE by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.0 </small></address>
</body>
</html>
